SET NAMES UTF8;
DROP DATABASE IF EXISTS xiaofeiniu;
CREATE DATABASE xiaofeiniu CHARSET=UTF8;
USE xiaofeiniu;
/*管理员*/
create table xfn_admin(
  aid INT PRIMARY KEY AUTO_INCREMENT,
  aname VARCHAR(32) UNIQUE,
  apwd VARCHAR(64) 
);
INSERT INTO xfn_admin VALUES
(NULL,'admin',PASSWORD('123456')),
(NULL,'boss',PASSWORD('888888'));
/*全局设置*/
create table xfn_settings(
  sid INT PRIMARY KEY AUTO_INCREMENT,
  appName VARCHAR(32),
  apiUrl VARCHAR(64),
  adminUrl VARCHAR(64),
  appUrl VARCHAR(64),
  icp VARCHAR(64),
  copyright VARCHAR(128)
);
INSERT INTO xfn_settings VALUES
(NULL,"小肥牛",'http://127.0.0.1:8090','http://127.0.0.1:8091','http://127.0.0.1:8092','京ICP备12003709号-3',"Copyright © 北京达内金桥科技有限公司版权所有");
/*桌台表*/
create table xfn_table(
  tid INT PRIMARY KEY AUTO_INCREMENT,
  tname VARCHAR(32),
  type VARCHAR(32),
  status  INT
);
INSERT INTO xfn_table VALUES
(1, '金镶玉', '2人桌', 1),
(2, '玉如意', '2人桌', 1),
(3, '齐天寿', '6人桌', 3),
(5, '福临门', '4人桌', 2),
(6, '全家福', '6人桌', 3),
(7, '展宏图', '2人桌', 1),
(8, '万年长', '8人桌', 1),
(9, '百事通', '4人桌', 3),
(10, '满堂彩', '10人桌', 2),
(11, '鸿运头', '8人桌', 1),
(12, '福满堂', '12人桌', 1),
(13, '高升阁', '4人桌', 3),
(15, '乐逍遥', '2人桌',3);
/*桌台预定信息*/
create table xfn_reservation(
  rid INT PRIMARY KEY AUTO_INCREMENT,
  contactName VARCHAR(32),
  phone VARCHAR(16),
  contactTime BIGINT,
  dinnerTime BIGINT,
   tableId INT,
  FOREIGN KEY (tableId) REFERENCES xfn_table(tid)
);
INSERT INTO xfn_reservation VALUES
(NULL, '丁丁', '13501234561', '1548311700000', '1549011000000', '1'),
(NULL, '当当', '13501234562', '1548311710000', '1549011100000', '1'),
(NULL, '豆豆', '13501234563', '1548311720000', '1549011200000', '2'),
(NULL, '丫丫', '13501234564', '1548311730000', '1549011300000', '2'),
(NULL, '丁丁', '13501234565', '1548311740000', '1549011400000', '3'),
(NULL, '当当', '13501234566', '1548311750000', '1549011500000', '3'),
(NULL, '豆豆', '13501234561', '1548311760000', '1549011600000', '5'),
(NULL, '丫丫', '13501234562', '1548311770000', '1549011700000', '5'),
(NULL, '丁丁', '13501234563', '1548311780000', '1549011800000', '6'),
(NULL, '当当', '13501234564', '1548311790000', '1549011900000', '6'),
(NULL, '豆豆', '13501234565', '1548311800000', '1549011000000', '7'),
(NULL, '丫丫', '13501234566', '1548311810000', '1549011100000', '8'),
(NULL, '豆豆', '13501234567', '1548311820000', '1549011200000', '9'),
(NULL, '丫丫', '13501234561', '1548311840000', '1549011300000', '10'),
(NULL, '丁丁', '13501234562', '1548311850000', '1549011400000', '10'),
(NULL, '当当', '13501234563', '1548311860000', '1549011500000', '11'),
(NULL, '豆豆', '13501234564', '1548311870000', '1549011600000', '11'),
(NULL, '丫丫', '13501234565', '1548311880000', '1549011600000', '12'),
(NULL, '豆豆', '13501234566', '1548311890000', '1549011500000', '13'),
(NULL, '当当', '13501234567', '1548311900000', '1549011300000', '13'),
(NULL, '丫丫', '13501234568', '1548311910000', '1549011200000', '15'),
(NULL,"钉钉","13501234567",1553252972801,1553245260000,'12'),
(NULL,"当当","13501234567",1553252982801,1553245270000,'15'),
(NULL,"豆豆","13501234567",1553252992801,1553245280000,'11'),
(NULL,"丫丫","13501234567",1553252102801,1553245290000,'12');
/*菜品分类表*/
create table xfn_category(
  cid INT PRIMARY KEY AUTO_INCREMENT,
  cname VARCHAR(32)
);
INSERT INTO xfn_category VALUES
(NULL,"肉类"),
(NULL,"丸滑类"),
(NULL,"蔬菜豆制品"),
(NULL,"海鲜河鲜"),
(NULL,"菌菇类");
/*菜品*/
CREATE TABLE xfn_dish(
  did INT PRIMARY KEY AUTO_INCREMENT,
  title VARCHAR(32),
  imgUrl VARCHAR(128),
  price DECIMAL(6,2),
  detail VARCHAR(128),
  categoryId  INT,
  FOREIGN KEY(categoryId) REFERENCES xfn_category(cid)
);
INSERT INTO xfn_dish VALUES
(100000,'草鱼片','CE7I9470.jpg',35,'选鲜活草鱼，切出鱼片冷鲜保存。锅开后再煮1分钟左右即可食用。',1),
(NULL,'脆皮肠','CE7I9017.jpg',25,'锅开后再煮3分钟左右即可食用。。',1),
(NULL,'酥肉','HGS_4760.jpg',45,'选用冷鲜五花肉，加上鸡蛋，淀粉等原料炸制，色泽黄亮，酥软醇香，肥而不腻。锅开后再煮3分钟左右即可食用。',1),
(NULL,'牛百叶','CE7I9302.jpg',55,'毛肚切丝后，配以调味料腌制而成。锅开后再煮2分钟左右即可食用。',1),
(NULL,'旭伟蟹肉墨鱼滑','1-CE7I8970.jpg',45,'将冰鲜墨鱼筒，经破碎、搅拌等工艺，再配以秘制调料，嵌入鲜毛蟹中。锅开后再煮4分钟左右即可食用。配上丸滑蘸碟，风味更突出。',2),
(NULL,'兆湛撒尿牛肉丸','EU0A0225.jpg',55,'选用牛后腿部位牛霖，经过排酸、绞碎、搅打成的牛肉滑，捏成丸子后，里面裹入用老鸡、火腿等精心熬制的汤冻。锅开后浮起来再煮3分钟左右即可食用。配上丸滑蘸碟，风味更突出。撒尿牛丸中心汤汁温度较高，吃时小心被汤汁烫到',2),
(NULL,'西式牛肉滑','CE7I9010.jpg',45,'选用牛后腿部位，经过排酸、绞碎、搅打而成的牛肉滑，放入香菇、芹菜粒等原料，配以蛋黄。开锅后由服务员搅拌均匀、做成小丸下入，浮起来再煮3分钟左右即可食用。配上丸滑蘸碟，风味更突出',2),
(NULL,'贝柱滑','CE7I8951.jpg',45,'选用海湾贝肉打成滑，加上各种调料手工搅打起胶后再拼回贝壳。锅开后再煮3分钟左右即可食用，配上丸滑蘸碟，风味更突出。',2),
(NULL,'包心生菜','baocai.jpg',25,'经过挑选、清洗、装盘而成。口感清香，锅开后再煮1分钟左右即可食用',3),
(NULL,'竹笋','CE7I9228.jpg',35,'竹笋清洗后对剖切开，装盘，口感脆爽，锅开后再煮4分钟左右即可食用',3),
(NULL,'红薯','CE7I9056.jpg',45,'经过去泥、挑选、去皮、清洗、切配、装盘而成。口感香甜，锅开后再煮4分钟左右即可食用',3),
(NULL,'大白菜','CE7I9259.jpg',25,'经过挑选、清洗、切配、装盘而成，锅开后再煮2分钟左右即可食用',3),
(NULL,'冻虾','CE7I7004.jpg',55,'将活虾冷冻而成。肉质脆嫩，锅开后再煮4分钟左右即可食用。',4),
(NULL,'青斑','CE7I6489.jpg',55,'经过宰杀、去内脏、清洗、装盘而成。锅开后鱼片煮1分钟左右，鱼头、鱼排煮4分钟即可食用。',4),
(NULL,'大闸蟹','CE7I5902.jpg',55,'大闸蟹是一种经济蟹类，又称河蟹、毛蟹、清水蟹、大闸蟹或螃蟹，顾客可根据情况选择生、熟两种大闸蟹，生的大闸蟹，锅开后再煮8分钟左右即可食用',4),
(NULL,'北极贝','CE7I5767.jpg',55,'北极贝是源自北大西洋冰冷深海的一种贝类，肉质肥美，锅开后再煮4分钟左右即可食用',4),
(NULL,'有机香菇','CE7I9428.jpg',25,'经过挑选、清洗、装盘而成。锅开后再煮2分钟左右即可食用',5),
(NULL,'椎茸','CE7I6119.jpg',25,'经过清洗、切配、装盘而成。锅开后再煮4分钟左右即可食用',5),
(NULL,'竹荪','CE7I9244.jpg',25,'野生竹荪，口感爽滑、脆嫩，开锅后煮3分钟左右即可食用',5),
(NULL,'杏鲍菇','CE7I6062.jpg',25,'经过挑选、清洗、切配、装盘而成。锅开后再煮3分钟左右即可食用',5);
/*订单*/
CREATE TABLE xfn_order(
  oid INT PRIMARY KEY AUTO_INCREMENT,
  startTime BIGINT ,
  endTime BIGINT,
  customerCount INT,
  tableld INT,
   FOREIGN KEY(tableld) REFERENCES xfn_table(tid)
);
INSERT INTO xfn_order VALUES
(100000, '1547800000000', '1547814918000', '2', '1'),
(NULL, '1547801000000', '1547824918000', '4', '2'),
(NULL, '1547802000000', '1547834918000', '3', '3'),
(NULL, '1547803000000', '1547844918000', '5', '5'),
(NULL, '1547804000000', '1547854918000', '8', '6'),
(NULL, '1547805000000', '1547864918000', '2', '7'),
(NULL, '1547806000000', '1547874918000', '1', '8'),
(NULL, '1547807000000', '1547884918000', '2', '9'),
(NULL, '1547808000000', '1547894918000', '6', '10'),
(NULL, '1547809000000', '1547804918000', '3', '11'),
(NULL, '1547800000000', '1547814918000', '10', '12'),
(NULL, '1547801000000', '1547824918000', '2', '13'),
(NULL, '1547802000000', '1547834918000', '4', '15'),
(NULL, '1547800000000', '1547814918000', '2', '1'),
(NULL, '1547801000000', '1547824918000', '4', '2'),
(NULL, '1547802000000', '1547834918000', '3', '3'),
(NULL, '1547803000000', '', '5', '5'),
(NULL, '1547804000000', '1547854918000', '8', '6'),
(NULL, '1547805000000', '', '2', '7'),
(NULL, '1547806000000', '1547874918000', '1', '8'),
(NULL, '1547807000000', '1547884918000', '2', '9'),
(NULL, '1547808000000', '', '6', '10'),
(NULL, '1547809000000', '1547804918000', '3', '11'),
(NULL, '1547800000000', '', '10', '12'),
(NULL, '1547801000000', '1547824918000', '2', '13'),
(NULL, '1547802000000', '', '4', '15');
/*订单详情*/
CREATE TABLE xfn_order_detail(
  oid INT PRIMARY KEY AUTO_INCREMENT,
  dishId INT,   /*菜品编号*/
  dishCount INT, /*份数*/
  customerName VARCHAR(64), /*顾客名称*/
  orderId INT ,/*订单编号*/
  FOREIGN KEY(dishId) REFERENCES xfn_dish(did),
  FOREIGN KEY(orderId) REFERENCES xfn_order(oid)
);
INSERT INTO xfn_order_detail VALUES 
(NULL, '100002', '2', '丁丁', '100005'),
(NULL, '100003', '1', '当当', '100006'),
(NULL, '100004', '2', '豆豆', '100007'),
(NULL, '100005', '2', '丫丫', '100008'),
(NULL, '100006', '2', '丁丁', '100000'),
(NULL, '100007', '2', '丁丁', '100001'),
(NULL, '100008', '1', '当当', '100002'),
(NULL, '100009', '3', '豆豆', '100003'),
(NULL, '100000', '3', '豆豆', '100000');